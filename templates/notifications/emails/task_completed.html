{% extends "notifications/emails/base_email.html" %}

{% block title %}Task Completed - {{ task.reference_number }}{% endblock %}

{% block content %}
<h2>Task Marked as Complete</h2>

<p>Hello {{ creator_name }},</p>

<p>Good news! <strong>{{ assignee_name }}</strong> has marked the following task as complete:</p>

<div class="task-details">
    <h3 style="margin: 0 0 16px 0; color: #1e3a5f; font-size: 18px;">{{ task.title }}</h3>
    
    <table style="width: 100%; border-collapse: collapse; margin: 0;">
        <tr>
            <td style="padding: 8px 0; color: #64748b; width: 130px;">Reference:</td>
            <td style="padding: 8px 0; color: #1e293b; font-weight: 500;">{{ task.reference_number }}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; color: #64748b;">Completed by:</td>
            <td style="padding: 8px 0; color: #1e293b;">{{ assignee_name }}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; color: #64748b;">Completed at:</td>
            <td style="padding: 8px 0; color: #1e293b; font-weight: 500;">{{ completed_at_formatted }}</td>
        </tr>
        <tr>
            <td style="padding: 8px 0; color: #64748b;">Status:</td>
            <td style="padding: 8px 0;">
                <span style="display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 13px; font-weight: 600; color: #ffffff; background-color: #22c55e;">
                    Completed
                </span>
            </td>
        </tr>
    </table>
</div>

<div style="background-color: #fef9c3; border-left: 4px solid #eab308; border-radius: 4px; padding: 16px; margin: 24px 0;">
    <p style="margin: 0; color: #854d0e; font-size: 14px;">
        <strong>Action Required:</strong> Please review and verify this task to confirm it has been completed satisfactorily.
    </p>
</div>

<div class="button-container">
    <a href="{{ task_url }}" class="button" style="background-color: #22c55e;">Verify Task</a>
</div>

<p style="color: #64748b; font-size: 14px;">
    Click the button above to review the task and mark it as verified.
</p>
{% endblock %}